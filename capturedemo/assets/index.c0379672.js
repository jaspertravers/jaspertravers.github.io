(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();document.body.style.overflow="hidden";let t=document.createElement("iframe");t.style.width="100vw";t.style.height="100vh";t.style.border="none";t.style.background="rgb(255,251,247)";t.id="iframe";t.sandbox="allow-scripts allow-top-navigation";d();document.addEventListener("keydown",r=>{console.info("[host.js] hit"),r.ctrlKey&&r.shiftKey&&r.key==="Enter"&&console.log("inner host.js")});let l,f=200,a=1e3;addEventListener("message",r=>{let{data:n}=r;if(n.type==="heartbeat"&&n.from==="client"){const s={type:"heartbeat",from:"host"};l||console.log("[host] Connected"),clearTimeout(l),l=setTimeout(m,a),setTimeout(()=>t.contentWindow.postMessage(s,"*"),f)}n.type==="storecontent"&&localStorage.setItem("content",n.content)});function m(){console.log("[host] Disconnect"),t.src="",t.parentElement.removeChild(t),setTimeout(d,a)}function d(){console.log("load iframe"),t.src="./iframe.html",root.append(t);let r={type:"setcontent",content:localStorage.getItem("content")};t.onload=n=>t.contentWindow.postMessage(r,"*")}
