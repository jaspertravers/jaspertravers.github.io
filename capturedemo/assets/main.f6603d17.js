import"./modulepreload-polyfill.c7c6310f.js";document.body.style.overflow="hidden";let e=document.createElement("iframe");e.style.width="100vw";e.style.height="100vh";e.style.border="none";e.style.background="rgb(255,251,247)";e.id="iframe";e.sandbox="allow-scripts allow-top-navigation";l();document.addEventListener("keydown",t=>{console.info("[host.js] hit"),t.ctrlKey&&t.shiftKey&&t.key==="Enter"&&console.log("inner host.js")});let n,i=200,s=1e3;addEventListener("message",t=>{let{data:o}=t;if(o.type==="heartbeat"&&o.from==="client"){const a={type:"heartbeat",from:"host"};n||console.log("[host] Connected"),clearTimeout(n),n=setTimeout(c,s),setTimeout(()=>e.contentWindow.postMessage(a,"*"),i)}o.type==="storecontent"&&localStorage.setItem("content",o.content)});function c(){console.log("[host] Disconnect"),e.src="",e.parentElement.removeChild(e),setTimeout(l,s)}function l(){console.log("load iframe"),e.src="./iframe.html",root.append(e);let t={type:"setcontent",content:localStorage.getItem("content")};e.onload=o=>e.contentWindow.postMessage(t,"*")}
